<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[ã€Œ iOSå¹²è´§ ã€æé«˜ä»£ç ç®€æ´çš„æ–¹æ³•]]></title>
      <url>https://tate-zwt.github.io/2016/09/01/%E3%80%8C%20iOS%E5%B9%B2%E8%B4%A7%20%E3%80%8D%E6%8F%90%E9%AB%98%E4%BB%A3%E7%A0%81%E7%AE%80%E6%B4%81%E7%9A%84%E6%96%B9%E6%B3%95/</url>
      <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>å¼€å‘é¡¹ç›®çš„æ—¶å€™ï¼Œå¸¸å¸¸ä¼šæœ‰ä¸€äº›ä»£ç é‡å¤è€Œä¸”å†—ä½™ï¼Œåœ¨ç”¨çš„æ—¶å€™éœ€è¦å†™å¾ˆé•¿çš„ä»£ç æˆ–è€…ç”¨çš„åœ°æ–¹ä¹Ÿå¤šï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™å°±éœ€è¦é›†ä¸­èµ·æ¥å°è£…ï¼Œä½¿ä»£ç å¤ç”¨æ€§å¼ºï¼Œç”¨çŸ­çŸ­çš„å‡ è¡Œä»£ç æå®šã€‚è¿™äº›æ–¹æ³•æˆ‘éƒ½å°è£…åœ¨<code>categoryã€toolsã€View</code>ï¼ŒåŠ ä¸Šä»£ç é‡Œéƒ½æœ‰å†™æ³¨é‡Šï¼Œç”¨èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œå®ç”¨æ€§å¼ºï¼Œè¯»èµ·æ¥ä¹Ÿæ˜“æ‡‚ï¼Œå¯ä»¥è®©ä»£ç æ›´åŠ çš„ç®€æ´ã€‚é‡Œé¢æœ‰ä¸€äº›ä¹Ÿæ˜¯å‚è€ƒåˆ«äººæºç ï¼Œä¹Ÿåšäº†ä¸‹æ¬è¿å·¥ï¼Œå¸Œæœ›å¯¹ä½ ä»¬å¼€å‘é¡¹ç›®æœ‰æ‰€å¸®åŠ©ã€‚</p>
<h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><h6 id="WTSDK"><a href="#WTSDK" class="headerlink" title="WTSDK"></a>WTSDK</h6><p><img src="/images/WTSDKç›®å½•.png" alt="WTSDKç›®å½•.png"><br>çœ‹ç›®å½•ç»“æ„å°±è§‰å¾—æ¸…æ™°æ˜“æ‡‚ï¼Œåæ­£æˆ‘æ˜¯è¿™ä¹ˆè§‰å¾—çš„â˜ºï¸</p>
<h6 id="Categoryï¼ˆåˆ†ç±»ï¼‰"><a href="#Categoryï¼ˆåˆ†ç±»ï¼‰" class="headerlink" title="Categoryï¼ˆåˆ†ç±»ï¼‰"></a>Categoryï¼ˆåˆ†ç±»ï¼‰</h6><p><img src="/images/Category.png" alt="Category.png"></p>
<h6 id="NSï¼ˆNSå‰ç¼€çš„åˆ†ç±»ï¼‰"><a href="#NSï¼ˆNSå‰ç¼€çš„åˆ†ç±»ï¼‰" class="headerlink" title="NSï¼ˆNSå‰ç¼€çš„åˆ†ç±»ï¼‰"></a>NSï¼ˆNSå‰ç¼€çš„åˆ†ç±»ï¼‰</h6><p><img src="/images/NS.png" alt="NS.png"></p>
<h6 id="UIï¼ˆUIå‰ç¼€çš„åˆ†ç±»ï¼‰"><a href="#UIï¼ˆUIå‰ç¼€çš„åˆ†ç±»ï¼‰" class="headerlink" title="UIï¼ˆUIå‰ç¼€çš„åˆ†ç±»ï¼‰"></a>UIï¼ˆUIå‰ç¼€çš„åˆ†ç±»ï¼‰</h6><p><img src="/images/UI.png" alt="UI.png"><br>çœ‹<code>classåç§°</code>ï¼Œå®ƒä»¬éƒ½æ˜¯å¯¹åº”å¯¹è±¡çš„åˆ†ç±»æ–¹æ³•ï¼Œé‡Œé¢æ‰©å±•äº†å¾ˆå¤šå®ç”¨æ€§çš„åŠŸèƒ½ï¼Œå…·ä½“å¯ä»¥çœ‹æºç ã€‚</p>
<h6 id="Toolï¼ˆå·¥å…·ç±»é›†åˆï¼‰"><a href="#Toolï¼ˆå·¥å…·ç±»é›†åˆï¼‰" class="headerlink" title="Toolï¼ˆå·¥å…·ç±»é›†åˆï¼‰"></a>Toolï¼ˆå·¥å…·ç±»é›†åˆï¼‰</h6><p><img src="/images/Tool.png" alt="Tool.png"><br><code>Singleton</code>æ˜¯ä¸€ä¸ªå•ä¾‹æ¨¡å¼çš„å®ä½¿ç”¨æ–¹æ³•ï¼š<br>åœ¨<code>.h</code>é‡Œå†™ä¸Š<code>singleton_interface(ç±»åç§°)</code>ä¸<code>.m</code>é‡Œå†™ä¸Š<code>singleton_implementation(ç±»åç§°)</code>å³å®Œç¾æ”¯æŒMRCå’ŒARCä¸‹çš„å•ä¾‹ä½¿ç”¨ã€‚<br><code>WTConst</code>é‡Œé¢åŒ…æ‹¬å¾ˆå¤šå®ç”¨æ€§å¾ˆå¼ºçš„å®å®šä¹‰ï¼Œå…·ä½“çœ‹æºç ã€‚<br><code>WTUtility</code>é‡Œé¢å®šä¹‰äº†å¾ˆå¤šå®ç”¨æ€§å¾ˆå¼ºçš„ç±»æ–¹æ³•ï¼Œå…·ä½“çœ‹æºç ã€‚</p>
<h6 id="Viewï¼ˆUITextFieldä¸UITextViewï¼‰"><a href="#Viewï¼ˆUITextFieldä¸UITextViewï¼‰" class="headerlink" title="Viewï¼ˆUITextFieldä¸UITextViewï¼‰"></a>Viewï¼ˆUITextFieldä¸UITextViewï¼‰</h6><p><img src="/images/View.png" alt="View.png"><br><code>View</code>æ–‡ä»¶å¤¹é‡ŒåŒ…æ‹¬<code>UITextField</code>ä¸<code>UITextView</code>åŸç”Ÿæ§ä»¶çš„å°è£…ã€‚æˆ‘ä¸€ç›´è§‰å¾—è¿™ä¸¤ä¸ªåŸç”Ÿæ§ä»¶æ¯æ¬¡ç”¨çš„æ—¶å€™éƒ½è¦åŠ å…¥å¥½å¤šçš„åˆ¤æ–­ä¸ä»£ç†æ–¹æ³•ï¼Œè€Œä¸”éƒ½æ˜¯å·®ä¸å¤šä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘å°±é’ˆå¯¹è¿™ä¸¤ä¸ªè¿›è¡Œäº†å°è£…ï¼ŒæŠŠå¸¸ç”¨çš„åŠŸèƒ½éƒ½é›†åˆåœ¨é‡Œé¢ï¼Œæ¯”å¦‚é™åˆ¶æ–‡å­—è¾“å…¥é•¿åº¦ç­‰ç­‰ï¼Œè¿™æ ·ä½¿ç”¨èµ·æ¥æ‰æ›´åŠ çš„ç®€æ´ã€‚å…·ä½“å¯ä»¥çœ‹ä¸‹æºç ã€‚</p>
<h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><p>ä½ å¯ä»¥çœ‹ä¸‹<code>WTSDK</code>é‡Œé¢æœ‰å•¥éœ€è¦çš„ï¼Œå•ç‹¬æ‹‰æŸä¸ªæ–‡ä»¶åˆ°ä½ çš„é¡¹ç›®é‡Œä½¿ç”¨å³å¯ã€‚<br>å¦‚æœä½ éƒ½è¦ä½¿ç”¨çš„è¯ï¼Œç›´æ¥å¯¼å…¥<code>#import &quot;WTConst.h&quot;</code>å³å¯ã€‚<br>æ³¨æ„å¦‚æœç”¨åˆ°<code>UIViewController+WT</code>è¿˜éœ€è¦é¡¹ç›®é‡Œæœ‰<a href="https://github.com/jdg/MBProgressHUD" target="_blank" rel="external">MBProgressHUD</a>è¿™ä¸ªåº“ã€‚</p>
<p>####æºç åœ¨è¿™<br><a href="https://github.com/Tate-zwt/WTSDK" target="_blank" rel="external">GitHub</a> å¦‚æœä½ è§‰å¾—ä¸é”™çš„è¯ï¼Œéº»çƒ¦ä½ ç‚¹ä¸€ä¸‹Starï¼Œthank you all!</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[iOSé›†æˆPing++æ”¯ä»˜,ç»•è¿‡ä¸€äº›å‘]]></title>
      <url>https://tate-zwt.github.io/2016/08/31/iOS%E9%9B%86%E6%88%90Ping++%E6%94%AF%E4%BB%98,%E7%BB%95%E8%BF%87%E4%B8%80%E4%BA%9B%E5%9D%91/</url>
      <content type="html"><![CDATA[<h4 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h4><p>è¿™ä¸€æ®µæ—¶é—´æ¯”è¾ƒå¿™ï¼Œä¸»è¦å…¬å¸çš„äº§å“éœ€è¦é‡æ„ä¸åŠ å¤šä¸€ä¸ªè´§å¸æ”¯ä»˜ç³»ç»Ÿã€‚è¯´åˆ°ç§»åŠ¨ç«¯çš„æ”¯ä»˜ï¼Œè‡ªç„¶ä¼šç‰µæ‰¯åˆ°æ”¯ä»˜è¿™ä¸€å—ã€‚æ”¯ä»˜è¿™ä¸€å—ä¸»æµçš„ç›®å‰å°±å¾®ä¿¡ã€æ”¯ä»˜å®ã€é“¶è”ã€‚åšè¿‡è¿™äº›SDKé›†æˆçš„å¼€å‘è€…éƒ½çŸ¥é“ï¼Œé›†æˆç›¸å¯¹å¤æ‚ï¼Œè€Œä¸”è¦èŠ±å¤§é‡çš„æ—¶é—´å»é˜…è¯»ä»–ä»¬æä¾›çš„å¼€å‘æ–‡æ¡£ï¼Œä¸è¿‡è¿˜å¥½ç°åœ¨æœ‰å¾ˆå¤šå¼€å‘è€…éƒ½åˆ†äº«äº†ä»–ä»¬çš„é›†æˆå¿ƒå¾—ï¼Œä½¿è¿™ä»¶äº‹è¶Šå‘ç®€å•ï¼Œæ¯”å¦‚ï¼š<a href="http://www.jianshu.com/p/97d38b00e53d" target="_blank" rel="external">iOSæ”¯ä»˜[æ”¯ä»˜å®ã€é“¶è”ã€å¾®ä¿¡]</a>ã€<a href="http://www.jianshu.com/p/6d67cfe0f00c" target="_blank" rel="external">10åˆ†é’Ÿæå®šæ”¯ä»˜å®å’Œå¾®ä¿¡æ”¯ä»˜ çš„ å„ç§å¡«å‘</a>ç­‰ç­‰ï¼Œä½†æ˜¯å‘¢ï¼Œå…¶å®è¿˜æœ‰æ›´åŠ ç®€å•çš„,<a href="https://www.pingxx.com/docs/overview" target="_blank" rel="external">Ping++</a>ã€‚<br><a id="more"></a></p>
<h4 id="Ping-èƒ½å¹²å˜›ï¼Ÿ"><a href="#Ping-èƒ½å¹²å˜›ï¼Ÿ" class="headerlink" title="Ping++èƒ½å¹²å˜›ï¼Ÿ"></a>Ping++èƒ½å¹²å˜›ï¼Ÿ</h4><p>Ping++ æ˜¯ä¸ºç§»åŠ¨ç«¯åº”ç”¨ä»¥åŠ PC ç½‘é¡µé‡èº«æ‰“é€ çš„ä¸‹ä¸€ä»£æ”¯ä»˜ç³»ç»Ÿï¼Œé€šè¿‡ä¸€ä¸ª SDK ä¾¿å¯ä»¥åŒæ—¶æ”¯æŒç§»åŠ¨ç«¯ä»¥åŠ PC ç«¯ç½‘é¡µçš„å¤šç§ä¸»æµæ”¯ä»˜æ¸ é“ï¼Œä½ åªéœ€è¦ä¸€æ¬¡æ¥å…¥å³å¯å®Œæˆå¤šä¸ªæ¸ é“çš„æ¥å…¥ã€‚ Ping++ SDK åŒ…æ‹¬ Client SDK å’Œ Server SDK ä¸¤éƒ¨åˆ†ï¼Œæ”¯æŒä¸»æµçš„ä¸ƒç§åç«¯å¼€å‘è¯­è¨€ï¼Œé€‚é…äº† Androidï¼ŒiOS å’Œ HTML5 ä¸‰ç§ç§»åŠ¨ç«¯å¹³å°ä»¥åŠ PC ç«¯ç½‘é¡µã€‚psï¼šå®˜æ–¹åŸè¯ã€‚</p>
<p>è¯´è¯´æˆ‘çš„ç†è§£ï¼š<br>æˆ‘è§‰å¾—æœ€æ–¹ä¾¿çš„æ˜¯ï¼Œä¸éœ€è¦ç§»åŠ¨ç«¯å¡«å†™å„ç§appkeyï¼Œå„ç§ç§˜é’¥ï¼Œåƒæ”¯ä»˜å®æ”¯ä»˜æœ‰ç§˜é’¥ç‰¹åˆ«éº»çƒ¦ï¼Œè¿™ä¸€äº›ç¹ççš„äº‹æƒ…Ping++éƒ½å¸®ä½ åšäº†ï¼Œä½ åªè¦æŠŠè¿™äº›ç”³è¯·ä¸‹æ¥çš„keyä¿å­˜åœ¨Ping++çš„é…ç½®ä¿¡æ¯ç³»ç»Ÿå°±å¯ä»¥äº†ã€‚è¿˜è¦ç”³è¯·å¼€é€šä¸€äº›æƒé™ï¼Œä¸è¿‡è¿™äº›æ“ä½œéƒ½æ˜¯æˆ‘è€å¤§å¼„çš„ï¼Œä¸è¿‡å¾ˆæ–¹ä¾¿å°±æ˜¯äº†ã€‚<br>è¿˜æœ‰å°±æ˜¯ä¸€è¡Œä»£ç å°±å¯ä»¥è°ƒèµ·å„ç§æ”¯ä»˜è¿™ä¸ªå¯¹åšè¿‡å„ç§åŸç”Ÿæ”¯ä»˜SDKçš„æˆ‘ï¼Œæ„Ÿè§‰å¾ˆæ¸…çˆ½ï¼Œè´´ä¸‹ä»£ç ï¼Œæ„Ÿå—ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">[Pingpp createPayment:charge</div><div class="line">viewController:weakSelf</div><div class="line">appURLScheme:kUrlScheme</div><div class="line">withCompletion:^(NSString *result, PingppError *error) &#123;</div><div class="line">NSLog(@&quot;completion block: %@&quot;, result);</div><div class="line">if (error == nil) &#123;</div><div class="line">NSLog(@&quot;PingppError is nil&quot;);</div><div class="line">&#125; else &#123;</div><div class="line">NSLog(@&quot;PingppError: code=%lu msg=%@&quot;,</div><div class="line">(unsigned long)error.code, [error getMsg]);</div><div class="line">&#125;</div><div class="line">[weakSelf showAlertMessage:result];</div><div class="line">&#125;];</div></pre></td></tr></table></figure></p>
<h4 id="ä½¿ç”¨æ–¹æ³•ï¼š"><a href="#ä½¿ç”¨æ–¹æ³•ï¼š" class="headerlink" title="ä½¿ç”¨æ–¹æ³•ï¼š"></a>ä½¿ç”¨æ–¹æ³•ï¼š</h4><p>1ã€ä½¿ç”¨ CocoaPods<br>åœ¨ Podfile æ·»åŠ ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pod &apos;Pingpp&apos;, &apos;~&gt; 2.2.6&apos;</div></pre></td></tr></table></figure></p>
<p>2ã€æ‰‹åŠ¨å¼•å…¥<br>ä¸‹è½½ <a href="https://github.com/PingPlusPlus/pingpp-ios" target="_blank" rel="external">iOS SDK</a> åˆ°æœ¬åœ°ï¼Œé‡Œé¢åŒ…å« lib å’Œ example ä¸¤ä¸ªç›®å½•ã€‚example ç›®å½•ä¸‹çš„æ˜¯ç¤ºä¾‹é¡¹ç›®ï¼Œä½ éœ€è¦å°† lib ç›®å½•ä¸‹çš„æ–‡ä»¶æ·»åŠ åˆ°ä½ çš„é¡¹ç›®ã€‚<br>å…·ä½“å¯ä»¥çœ‹Ping++çš„<a href="https://www.pingxx.com/docs/client/sdk/ios" target="_blank" rel="external">iOS SDK æ¥å…¥æŒ‡å—</a>ã€‚</p>
<h4 id="è¯´è¯´æˆ‘é‡åˆ°çš„å‘ï¼š"><a href="#è¯´è¯´æˆ‘é‡åˆ°çš„å‘ï¼š" class="headerlink" title="è¯´è¯´æˆ‘é‡åˆ°çš„å‘ï¼š"></a>è¯´è¯´æˆ‘é‡åˆ°çš„å‘ï¼š</h4><p>é¦–å…ˆè¯´ä¸‹å¾®ä¿¡æ”¯ä»˜çš„SDKå†Ping++çš„Channelsæ˜¯æ˜¾ç¤ºMmdpayçš„ï¼Œåˆšå¼€å§‹å®³æˆ‘æ‰¾åŠå¤©â€¦æœ‰ç‚¹å¤¸å¼ å“ˆ</p>
<p><img src="/images/SDKåŒ….png" alt=""><br>æˆ‘è¿™é‡Œç”±äºæš‚æ—¶åªç”¨åˆ°è¿™ä¸¤ç§æ”¯ä»˜ï¼Œæ‰€ä»¥æˆ‘æŠŠå…¶å®ƒçš„éƒ½åˆ é™¤æ‰äº†ï¼Œç°åœ¨appéƒ½æå€¡ç˜¦èº«å˜›ã€‚</p>
<p>è¿˜æœ‰ä¸€ç‚¹ï¼š<br>ä¸ºäº†èƒ½æ­£ç¡®è·å¾—ç»“æœå›è°ƒè¯·åœ¨å·¥ç¨‹ AppDelegate æ–‡ä»¶ä¸­è°ƒç”¨<code>[Pingpp handleOpenURL:url withCompletion:nil]</code>ã€‚<br>å¦‚æœè¯¥æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ä¼  nilï¼Œè¯·åœ¨åœ¨ <code>createPayment</code> æ–¹æ³•çš„ <code>Completion</code> ä¸­å¤„ç†å›è°ƒç»“æœã€‚å¦åˆ™ï¼Œåœ¨è¿™é‡Œå¤„ç†ç»“æœã€‚<br>å¦‚æœä½ ä½¿ç”¨äº†å¾®ä¿¡åˆ†äº«ã€ç™»å½•ç­‰ä¸€äº›çœ‹èµ·æ¥åœ¨è¿™é‡Œâ€œå†²çªâ€çš„æ¨¡å—ï¼Œä½ å¯ä»¥å…ˆåˆ¤æ–­ url çš„ host æ¥å†³å®šè°ƒç”¨å“ªä¸€æ–¹çš„æ–¹æ³•ã€‚<br>ä¹Ÿå¯ä»¥å…ˆè°ƒç”¨ Ping++ çš„æ–¹æ³•ï¼Œå¦‚æœ return çš„å€¼ä¸º falseï¼Œè¡¨ç¤ºè¿™ä¸ª url ä¸æ˜¯æ”¯ä»˜ç›¸å…³çš„ï¼Œä½ å†è°ƒç”¨æ¨¡å—çš„æ–¹æ³•ã€‚<br>è´´ä¸Šæˆ‘è§£å†³è¿™ä¸ªé—®é¢˜çš„ä»£ç ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">// iOS 8 åŠä»¥ä¸‹è¯·ç”¨è¿™ä¸ª</div><div class="line">- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url sourceApplication:(NSString *)sourceApplication annotation:(id)annotation &#123;</div><div class="line">BOOL isPay = [Pingpp handleOpenURL:url withCompletion:nil];</div><div class="line">if(isPay)&#123;</div><div class="line">return isPay;</div><div class="line">&#125;else&#123;</div><div class="line">return  [UMSocialSnsService handleOpenURL:url wxApiDelegate:nil];</div><div class="line">&#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>è¿™é‡Œå€¼å¾—æ³¨æ„ä¸€ä¸‹ï¼Œæ¯æ¬¡è°ƒç”¨<code>[Pingpp handleOpenURL:url withCompletion:nil]</code>å°±ä¼šæ‰§è¡Œä¸€æ¬¡<code>[Pingpp createPayment:(NSObject *) appURLScheme:&lt;#(NSString *)#&gt; withCompletion:&lt;#^(NSString *result, PingppError *error)completion#&gt;]</code>æ–¹æ³•é‡Œçš„å›è°ƒã€‚<br>å¤§æ¦‚å°±æ˜¯è¿™ä¸€äº›äº†ï¼Œåç»­å¯èƒ½è¿˜ä¼šç»§ç»­æ·»åŠ æ›´å¤šçš„æ”¯ä»˜åŠŸèƒ½ï¼Œå¦‚æœé‡åˆ°å‘ï¼Œæˆ‘è¿˜ä¼šç»§ç»­æ›´æ–°æ­¤æ–‡ç« ã€‚</p>
<h4 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h4><p><a href="https://www.pingxx.com/docs/client/sdk/ios" target="_blank" rel="external">iOS SDK æ¥å…¥æŒ‡å—</a><br><a href="http://www.jianshu.com/p/a933f9f74e9c" target="_blank" rel="external">iOSåº”ç”¨ä¹‹ â€œPing++â€ æ”¯ä»˜é›†æˆ</a><br><a href="http://www.jianshu.com/p/52dd853841b0" target="_blank" rel="external">Ping++ SDKï¼Œå¼•å…¥iOSé…ç½®è¯´æ˜</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[iOS Runtimeç‰¹æ€§ä¹‹å…³è”å¯¹è±¡]]></title>
      <url>https://tate-zwt.github.io/2016/04/17/iOS%20Runtime%E7%89%B9%E6%80%A7%E4%B9%8B%E5%85%B3%E8%81%94%E5%AF%B9%E8%B1%A1/</url>
      <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>ç°åœ¨ä½ å‡†å¤‡ç”¨ä¸€ä¸ªç³»ç»Ÿçš„ç±»æˆ–è€…æ˜¯ä½ å†™çš„ç±»ï¼Œä½†æ˜¯è¿™ä¸ªç±»å¹¶ä¸èƒ½æ»¡è¶³ä½ çš„éœ€æ±‚ï¼Œä½ éœ€è¦é¢å¤–æ·»åŠ ä¸€ä¸ªå±æ€§ã€‚<br>ä¸€èˆ¬è§£å†³åŠæ³•è¦ä¹ˆæ˜¯ <code>extends(ç»§æ‰¿)</code>ï¼Œè¦ä¹ˆä½¿ç”¨ <code>category(ç±»åˆ«)</code>ã€‚<br>è€Œæˆ‘å¹¶ä¸æ¨èä½¿ç”¨ <code>extends</code> ï¼Œä¸»è¦æ˜¯è€¦åˆæ€§å¤ªå¼ºï¼Œä¸€èˆ¬æˆ‘ä½¿ç”¨ <code>category</code> ã€‚<br>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œåˆ†ç±»ä¸­æ˜¯æ— æ³•è®¾ç½®å±æ€§çš„ï¼Œå¦‚æœåœ¨åˆ†ç±»çš„å£°æ˜ä¸­å†™<code>@property</code> åªèƒ½ä¸ºå…¶ç”Ÿæˆ<code>get</code> å’Œ <code>set</code> æ–¹æ³•çš„å£°æ˜ï¼Œ<br>ä½†æ˜¯æœ‰æ—¶å€™ä½¿ç”¨ç±»åˆ«ä¹Ÿéœ€è¦å¢åŠ ä¸€ä¸ªé¢å¤–å±æ€§ï¼Œ<br>é‚£ä¹ˆæ€ä¹ˆåŠå‘¢ï¼Ÿ<br>è¿™ä¸ªæ—¶å€™ï¼Œ<code>runtime</code>çš„å…³è”å±æ€§å°±èƒ½å‘æŒ¥å®ƒçš„ä½œç”¨äº†ã€‚<br>ä¸€èˆ¬éƒ½æ˜¯<code>key value</code> çš„å­˜åœ¨ã€‚<br><a id="more"></a></p>
<h3 id="æœ‰å…³çš„æ–¹æ³•"><a href="#æœ‰å…³çš„æ–¹æ³•" class="headerlink" title="æœ‰å…³çš„æ–¹æ³•"></a>æœ‰å…³çš„æ–¹æ³•</h3><blockquote>
<p>objc_setAssociatedObject        è®¾ç½®å…³è”å¯¹è±¡ä½¿ç”¨<br>objc_getAssociatedObject          è·å–å…³è”å¯¹è±¡ä½¿ç”¨<br>objc_removeAssociatedObjects  ç§»é™¤å…³è”å¯¹è±¡ä½¿ç”¨</p>
</blockquote>
<h3 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h3><p>ä¸€èˆ¬æˆ‘ç”¨åœ¨ <code>category</code> é‡Œï¼Œåˆç†ä½¿ç”¨å®ƒèƒ½è®©<code>category</code>å‘æŒ¥æ›´å¤§çš„ä½œç”¨ã€‚</p>
<ul>
<li><code>UIView</code> çš„ <code>category</code></li>
</ul>
<p>.hæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">#import &lt;UIKit/UIKit.h&gt;</div><div class="line">@interface UIView (WT)</div><div class="line">typedef void (^GestureActionBlock)(UIGestureRecognizer *ges);</div><div class="line">/** å•ç‚¹å‡»æ‰‹åŠ¿ */</div><div class="line">- (void)tapGesture:(GestureActionBlock)block;</div><div class="line">/** é•¿æŒ‰æ‰‹åŠ¿ */</div><div class="line">- (void)longPressGestrue:(GestureActionBlock)block;</div><div class="line">@end</div></pre></td></tr></table></figure>
<p>.mæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line">#import &quot;UIView+WT.h&quot;</div><div class="line">#import &lt;objc/runtime.h&gt;</div><div class="line">@implementation UIView (WT)</div><div class="line"></div><div class="line">static char kActionHandlerTapBlockKey;</div><div class="line">static char kActionHandlerTapGestureKey;</div><div class="line">static char kActionHandlerLongPressBlockKey;</div><div class="line">static char kActionHandlerLongPressGestureKey;</div><div class="line"></div><div class="line">//å•ç‚¹å‡»æ‰‹åŠ¿</div><div class="line">- (void)tapGesture:(GestureActionBlock)block &#123;</div><div class="line">self.userInteractionEnabled = YES;</div><div class="line">UITapGestureRecognizer *gesture = objc_getAssociatedObject(self, &amp;kActionHandlerTapGestureKey);</div><div class="line">if (!gesture) &#123;</div><div class="line">gesture = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(handleActionForTapGesture:)];</div><div class="line">[self addGestureRecognizer:gesture];</div><div class="line">objc_setAssociatedObject(self, &amp;kActionHandlerTapGestureKey, gesture, OBJC_ASSOCIATION_RETAIN);</div><div class="line">&#125;</div><div class="line">objc_setAssociatedObject(self, &amp;kActionHandlerTapBlockKey, block, OBJC_ASSOCIATION_COPY);</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)handleActionForTapGesture:(UITapGestureRecognizer *)gesture &#123;</div><div class="line">if (gesture.state == UIGestureRecognizerStateRecognized) &#123;</div><div class="line">GestureActionBlock block = objc_getAssociatedObject(self, &amp;kActionHandlerTapBlockKey);</div><div class="line">if (block) &#123;</div><div class="line">block(gesture);</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//é•¿æŒ‰æ‰‹åŠ¿</div><div class="line">- (void)longPressGestrue:(GestureActionBlock)block &#123;</div><div class="line">self.userInteractionEnabled = YES;</div><div class="line">UILongPressGestureRecognizer *gesture = objc_getAssociatedObject(self, &amp;kActionHandlerLongPressGestureKey);</div><div class="line">if (!gesture) &#123;</div><div class="line">gesture = [[UILongPressGestureRecognizer alloc] initWithTarget:self action:@selector(handleActionForLongPressGesture:)];</div><div class="line">[self addGestureRecognizer:gesture];</div><div class="line">objc_setAssociatedObject(self, &amp;kActionHandlerLongPressGestureKey, gesture, OBJC_ASSOCIATION_RETAIN);</div><div class="line">&#125;</div><div class="line">objc_setAssociatedObject(self, &amp;kActionHandlerLongPressBlockKey, block, OBJC_ASSOCIATION_COPY);</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)handleActionForLongPressGesture:(UITapGestureRecognizer *)gesture &#123;</div><div class="line">if (gesture.state == UIGestureRecognizerStateBegan) &#123;</div><div class="line">GestureActionBlock block = objc_getAssociatedObject(self, &amp;kActionHandlerLongPressBlockKey);</div><div class="line">if (block) &#123;</div><div class="line">block(gesture);</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
<p>æˆ‘è§£é‡Šä¸‹é‡Œé¢çš„ä¸€äº›å…³é”®å­—æ®µï¼Œæ¯”å¦‚ OBJC_ASSOCIATION_RETAIN è¿™ä¸ªå­—æ®µå®é™…ä¸Šæ˜¯ä¸ªæšä¸¾æ¥çš„<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">typedef OBJC_ENUM(uintptr_t, objc_AssociationPolicy) &#123;</div><div class="line">OBJC_ASSOCIATION_ASSIGN = 0,           /**&lt; Specifies a weak reference to the associated object. */</div><div class="line">OBJC_ASSOCIATION_RETAIN_NONATOMIC = 1, /**&lt; Specifies a strong reference to the associated object. </div><div class="line">*   The association is not made atomically. */</div><div class="line">OBJC_ASSOCIATION_COPY_NONATOMIC = 3,   /**&lt; Specifies that the associated object is copied. </div><div class="line">*   The association is not made atomically. */</div><div class="line">OBJC_ASSOCIATION_RETAIN = 01401,       /**&lt; Specifies a strong reference to the associated object.</div><div class="line">*   The association is made atomically. */</div><div class="line">OBJC_ASSOCIATION_COPY = 01403          /**&lt; Specifies that the associated object is copied.</div><div class="line">*   The association is made atomically. */</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>ç”¨æ³•è·Ÿ<code>@property</code>ä¸­çš„<code>strong ã€weakã€copy ã€assign ã€retain</code>ç­‰å£°æ˜å±æ€§çš„ä¿®é¥°ç¬¦ä¸€æ ·ï¼Œæˆ‘ä¸Šé¢ç”¨åˆ°äº†<code>block</code>å°±å¯¹åº”<code>OBJC_ASSOCIATION_COPY</code>,è€Œ<code>UITapGestureRecognizer</code>ä¸<code>UILongPressGestureRecognizer</code>åˆ™å¯¹åº”<code>OBJC_ASSOCIATION_RETAIN</code>è¿›è¡Œä¿®é¥°ã€‚<br>å½“ç„¶å®é™…ä¸Šæˆ‘çš„<code>UIView</code>çš„<code>category</code>ä¸æ­¢è¿™äº›ï¼Œå¯ä»¥å‚è€ƒæˆ‘å¼€å‘é¡¹ç›®æ€»ç»“çš„ä¸€å¥—åº“<br><a href="https://github.com/Tate-zwt/WTSDK" target="_blank" rel="external">WTSDK</a><br>å¯èƒ½æœ‰äº›åœ°æ–¹æè¿°å¾—ä¸æ˜¯å¾ˆå¥½ï¼Œæˆ–è€…æè¿°é”™è¯¯äº†ï¼Œå¸Œæœ›ä½ ä»¬èƒ½ç»™æˆ‘ç•™è¨€ï¼Œthankï¼</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[iOS Develop Tips]]></title>
      <url>https://tate-zwt.github.io/2016/03/20/iOS%20Develop%20Tips/</url>
      <content type="html"><![CDATA[<h4 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h4><p>è®°å½•ä¸€äº›å¸¸ç”¨åˆ°çš„ä»£ç å— -&gt; self command C+VğŸ˜„  continuous updating!</p>
<h5 id="Objective-C-tips"><a href="#Objective-C-tips" class="headerlink" title="Objective-C tips"></a>Objective-C tips</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//ä½¿æ§ä»¶ä»å¯¼èˆªæ ä»¥ä¸‹å¼€å§‹</div><div class="line">self.edgesForExtendedLayout=UIRectEdgeNone;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//å°†navigationè¿”å›æŒ‰é’®æ–‡å­—positionè®¾ç½®ä¸åœ¨å±å¹•ä¸Šæ˜¾ç¤º</div><div class="line">[[UIBarButtonItem appearance] setBackButtonTitlePositionAdjustment:UIOffsetMake(NSIntegerMin, NSIntegerMin) forBarMetrics:UIBarMetricsDefault];</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">//è§£å†³ScrollViewç­‰åœ¨viewControlleræ— æ³•æ»šåŠ¨åˆ°æœ€é¡¶éƒ¨</div><div class="line">//è‡ªåŠ¨æ»šåŠ¨è°ƒæ•´ï¼Œé»˜è®¤ä¸ºYES</div><div class="line">self.automaticallyAdjustsScrollViewInsets = NO;</div></pre></td></tr></table></figure>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//éšè—navigationBarä¸Šè¿”å›æŒ‰é’®</div><div class="line">[self.navigationController.navigationItem setHidesBackButton:YES];</div><div class="line">[self.navigationItem setHidesBackButton:YES];</div><div class="line">[self.navigationController.navigationBar.backItem setHidesBackButton:YES];</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//å»é™¤tableviewåº•éƒ¨å¤šä½™çš„ç©ºç™½cell </div><div class="line">self.tableView.tableFooterView = [UIView new];</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">/** æ˜¾ç¤ºå®Œæ•´çš„CellSeparatorçº¿ */</div><div class="line">-(void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath&#123;</div><div class="line">if ([cell respondsToSelector:@selector(setSeparatorInset:)]) &#123;</div><div class="line">[cell setSeparatorInset:UIEdgeInsetsZero];</div><div class="line">&#125;</div><div class="line">if ([cell respondsToSelector:@selector(setPreservesSuperviewLayoutMargins:)]) &#123;</div><div class="line">[cell setPreservesSuperviewLayoutMargins:NO];</div><div class="line">&#125;</div><div class="line">if ([cell respondsToSelector:@selector(setLayoutMargins:)]) &#123;</div><div class="line">[cell setLayoutMargins:UIEdgeInsetsZero];</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ»‘åŠ¨çš„æ—¶å€™éšè—navigation bar<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">navigationController.hidesBarsOnSwipe = Yes;</div></pre></td></tr></table></figure></p>
<p>å°†Navigationbarå˜æˆé€æ˜è€Œä¸æ¨¡ç³Š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[self.navigationController.navigationBar setBackgroundImage:[UIImage new]</div><div class="line">forBarMetrics:UIBarMetricsDefault];</div><div class="line">self.navigationController.navigationBar .shadowImage = [UIImage new];</div><div class="line">self.navigationController.navigationBar .translucent = YES;</div></pre></td></tr></table></figure></p>
<p>NSString<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line">//æˆªå–å­—ç¬¦ä¸²</div><div class="line">NSString *interceptStr1 = @&quot;Tate_zwt&quot;;</div><div class="line">interceptStr1 = [interceptStr1 substringToIndex:3];//æˆªå–ä¸‹æ ‡3ä¹‹å‰çš„å­—ç¬¦ä¸²</div><div class="line">NSLog(@&quot;æˆªå–çš„å€¼ä¸º:%@&quot;,interceptStr1);//æˆªå–çš„å€¼ä¸º:Tat</div><div class="line"></div><div class="line">NSString *interceptStr2 = @&quot;Tate_zwt&quot;;</div><div class="line">NSRange rang = &#123;3,1&#125;;</div><div class="line">interceptStr2 = [interceptStr2 substringWithRange:rang];//æˆªå–rangèŒƒå›´çš„å­—ç¬¦ä¸²</div><div class="line">NSLog(@&quot;æˆªå–çš„å€¼ä¸º:%@&quot;,interceptStr2);//æˆªå–çš„å€¼ä¸º:e</div><div class="line"></div><div class="line">NSString *interceptStr3 = @&quot;Tate_zwt&quot;;</div><div class="line">interceptStr3 = [interceptStr3 substringFromIndex:3];//æˆªå–ä¸‹æ ‡3ä¹‹åçš„å­—ç¬¦ä¸²</div><div class="line">NSLog(@&quot;æˆªå–çš„å€¼ä¸º:%@&quot;,interceptStr3);//æˆªå–çš„å€¼ä¸º:e_zwt</div><div class="line"></div><div class="line"></div><div class="line">//åŒ¹é…å­—ç¬¦ä¸²</div><div class="line">NSString *matchingStr = @&quot;Tate_zwt&quot;;</div><div class="line">NSRange range = [matchingStr rangeOfString:@&quot;t&quot;];//åŒ¹é…å¾—åˆ°çš„ä¸‹æ ‡</div><div class="line">NSLog(@&quot;rang:%@&quot;,NSStringFromRange(range));//rang:&#123;2, 1&#125;</div><div class="line">matchingStr = [matchingStr substringWithRange:range];//æˆªå–èŒƒå›´ç±»çš„å­—ç¬¦ä¸²</div><div class="line">NSLog(@&quot;æˆªå–çš„å€¼ä¸º:%@&quot;,matchingStr);//æˆªå–çš„å€¼ä¸º:t</div><div class="line"></div><div class="line"></div><div class="line">//åˆ†å‰²å­—ç¬¦ä¸²</div><div class="line">NSString *splitStr = @&quot;Tate_zwt_zwt&quot;;</div><div class="line">NSArray *array = [splitStr componentsSeparatedByString:@&quot;_&quot;]; //ä»å­—ç¬¦Aä¸­åˆ†éš”æˆ2ä¸ªå…ƒç´ çš„æ•°ç»„</div><div class="line">NSLog(@&quot;array:%@&quot;,array); //è¾“å‡º3ä¸ªå¯¹è±¡åˆ†åˆ«æ˜¯:Tate,zwt,zwt</div><div class="line"></div><div class="line"></div><div class="line">//æ‹¼æ¥å­—ç¬¦ä¸²</div><div class="line">NSMutableString *appendStr =  [NSMutableString string];</div><div class="line">//ä½¿ç”¨é€—å·æ‹¼æ¥</div><div class="line">//[append appendFormat:@&quot;%@zwt&quot;, append.length ? @&quot;,&quot; : @&quot;&quot;];</div><div class="line">[appendStr appendString:@&quot;æˆ‘æ˜¯&quot;];</div><div class="line">[appendStr appendString:@&quot;Tate-zwt&quot;];</div><div class="line">NSLog(@&quot;%@&quot;,appendStr);//è¾“å‡º:æˆ‘æ˜¯Tate-zwt</div><div class="line"></div><div class="line"></div><div class="line">//æ›¿æ¢å­—ç¬¦ä¸²</div><div class="line">NSString *replaceStr = @&quot;æˆ‘æ˜¯&amp;nbspTate-zwt&quot;;</div><div class="line">replaceStr = [replaceStr stringByReplacingOccurrencesOfString:@&quot;&amp;nbsp&quot; withString:@&quot;&quot;];</div><div class="line">NSLog(@&quot;%@&quot;,replaceStr);//è¾“å‡º:æˆ‘æ˜¯Tate-zwt</div><div class="line"></div><div class="line"></div><div class="line">//åˆ¤æ–­å­—ç¬¦ä¸²å†…æ˜¯å¦è¿˜åŒ…å«ç‰¹å®šçš„å­—ç¬¦ä¸²(å‰ç¼€ï¼Œåç¼€)</div><div class="line">NSString *hasStr = @&quot;Tate.zwt&quot;;</div><div class="line">[hasStr hasPrefix:@&quot;Tate&quot;] == 1 ?  NSLog(@&quot;YES&quot;) : NSLog(@&quot;NO&quot;); //å‰ç¼€</div><div class="line">[hasStr hasSuffix:@&quot;.zwt&quot;] == 1 ?  NSLog(@&quot;YES&quot;) : NSLog(@&quot;NO&quot;); // åç¼€</div><div class="line"></div><div class="line"></div><div class="line">//å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«ç‰¹å®šçš„å­—ç¬¦</div><div class="line">NSString *containStr = @&quot;iOS Developer,å–œæ¬¢åšæœ‰è¶£çš„äº§å“&quot;;</div><div class="line">NSRange rangeDeveloper = [containStr rangeOfString:@&quot;Developer&quot;];</div><div class="line">NSRange rangeProduct = [containStr rangeOfString:@&quot;Product&quot;];</div><div class="line">rangeDeveloper.location != NSNotFound == 1 ?  NSLog(@&quot;YES&quot;) : NSLog(@&quot;NO&quot;);</div><div class="line">rangeProduct.location != NSNotFound == 1 ?  NSLog(@&quot;YES&quot;) : NSLog(@&quot;NO&quot;);</div></pre></td></tr></table></figure></p>
<p>UIPageControlå¦‚ä½•æ”¹å˜ç‚¹çš„å¤§å°?<br>é‡å†™setCurrentPageæ–¹æ³•å³å¯:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">- (void)setCurrentPage:(NSInteger)page &#123;</div><div class="line">[super setCurrentPage:page];</div><div class="line">for (NSUInteger subviewIndex = 0; subviewIndex &lt; [self.subviews count]; subviewIndex++) &#123;</div><div class="line">UIView *subview = [self.subviews objectAtIndex:subviewIndex];</div><div class="line">UIImageView *imageView = nil;</div><div class="line">if (subviewIndex == page) &#123;</div><div class="line">CGFloat w = 8;</div><div class="line">CGFloat h = 8;</div><div class="line">imageView = [[UIImageView alloc] initWithFrame:CGRectMake(-1.5, -1.5, w, h)];</div><div class="line">imageView.image = [UIImage imageNamed:@&quot;banner_red&quot;];</div><div class="line">[subview setFrame:CGRectMake(subview.frame.origin.x, subview.frame.origin.y, w, h)];</div><div class="line">&#125; else &#123;</div><div class="line">CGFloat w = 5;</div><div class="line">CGFloat h = 5;</div><div class="line">imageView = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, w, h)];</div><div class="line">imageView.image = [UIImage imageNamed:@&quot;banner_gray&quot;];</div><div class="line">[subview setFrame:CGRectMake(subview.frame.origin.x, subview.frame.origin.y, w, h)];</div><div class="line">&#125;</div><div class="line">imageView.tag = 10010;</div><div class="line">UIImageView *lastImageView = (UIImageView *) [subview viewWithTag:10010];</div><div class="line">[lastImageView removeFromSuperview]; //æŠŠä¸Šä¸€æ¬¡æ·»åŠ çš„viewç§»é™¤</div><div class="line">[subview addSubview:imageView];</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>å¦‚ä½•æ”¹å˜å¤šè¡ŒUILabelçš„è¡Œé«˜ï¼Ÿ<br>Show me the codeï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">_promptLabel = [UILabel new];</div><div class="line">NSString *labelText = @&quot;Talk is cheap\nShow me the code&quot;;</div><div class="line">_promptLabel.text = labelText;</div><div class="line">_promptLabel.numberOfLines = 2;</div><div class="line">_promptLabel.font = [UIFont systemFontOfSize:14];</div><div class="line">NSMutableAttributedString *attributedString = [[NSMutableAttributedString alloc] initWithString:labelText];</div><div class="line">NSMutableParagraphStyle *paragraphStyle = [[NSMutableParagraphStyle alloc] init];</div><div class="line">[paragraphStyle setLineSpacing:10]; //è°ƒæ•´è¡Œé—´è·</div><div class="line">[attributedString addAttribute:NSParagraphStyleAttributeName value:paragraphStyle range:NSMakeRange(0, [labelText length])];</div><div class="line">_promptLabel.attributedText = attributedString;</div><div class="line">[_promptLabel sizeToFit];</div><div class="line">[self.view addSubview:_promptLabel];</div></pre></td></tr></table></figure></p>
<p>å¦‚ä½•è®©Labelç­‰æ§ä»¶æ”¯æŒHTMLæ ¼å¼çš„ä»£ç ï¼Ÿ<br>ä½¿ç”¨NSAttributedString:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">NSString *htmlString = @&quot;&lt;div&gt;Tate&lt;span style=&apos;color:#1C86EE;&apos;&gt;ã€ŠiOS Develop Tipsã€‹&lt;/span&gt;get &lt;span style=&apos;color:#1C86EE;&apos;&gt;Tate_zwt&lt;/span&gt; æ‰“èµ &lt;span style=&apos;color:#FF3E96;&apos;&gt;100&lt;/span&gt; é‡‘å¸&lt;/div&gt;&quot;;</div><div class="line">NSAttributedString *attributedString = [[NSAttributedString alloc] initWithData:[htmlString dataUsingEncoding:NSUnicodeStringEncoding] options:@&#123; NSDocumentTypeDocumentAttribute : NSHTMLTextDocumentType &#125; documentAttributes:nil error:nil];</div><div class="line">_contentLabel.attributedText = attributedString;</div></pre></td></tr></table></figure></p>
<p>å¦‚ä½•è®©Labelç­‰æ§ä»¶åŒæ—¶æ”¯æŒHTMLä»£ç å’Œè¡Œé—´è·ï¼Ÿ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">NSMutableAttributedString *attributedString = [[NSMutableAttributedString alloc] initWithData:[_open_bonus_article dataUsingEncoding:NSUnicodeStringEncoding] options:@&#123; NSDocumentTypeDocumentAttribute : NSHTMLTextDocumentType &#125; documentAttributes:nil error:nil];</div><div class="line">NSMutableParagraphStyle *paragraphStyle = [[NSMutableParagraphStyle alloc] init];</div><div class="line">[paragraphStyle setLineSpacing:12]; //è°ƒæ•´è¡Œé—´è·</div><div class="line">[attributedString addAttribute:NSParagraphStyleAttributeName value:paragraphStyle range:NSMakeRange(0, [attributedString length])];</div><div class="line">_detailLabel.attributedText = attributedString;</div><div class="line">[_detailLabel sizeToFit];</div></pre></td></tr></table></figure></p>
<p>popå›æ ¹æ§åˆ¶å™¨è§†å›¾<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//è¿™é‡Œä¹Ÿå¯ä»¥æŒ‡å®špopåˆ°å“ªä¸ªç´¢å¼•æ§åˆ¶å™¨</div><div class="line">[self.navigationController popToViewController: [self.navigationController.viewControllers objectAtIndex: ([self.navigationController.viewControllers count] - 3)] animated:YES];</div><div class="line">//æˆ–è€…</div><div class="line">[self.navigationController popToRootViewControllerAnimated:YES];</div></pre></td></tr></table></figure></p>
<p>dismisså›æ ¹æ§åˆ¶å™¨è§†å›¾(PSï¼šåªèƒ½è¿”å›ä¸¤å±‚)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">if ([self respondsToSelector:@selector(presentingViewController)])&#123;</div><div class="line">self.presentingViewController.view.alpha = 0;</div><div class="line">[self.presentingViewController.presentingViewController dismissViewControllerAnimated:YES completion:nil];</div><div class="line">&#125;else &#123;</div><div class="line">self.parentViewController.view.alpha = 0;</div><div class="line">[self.parentViewController.parentViewController dismissViewControllerAnimated:YES completion:nil];</div><div class="line">&#125;</div><div class="line">//æˆ–è€…</div><div class="line">if ([self respondsToSelector:@selector(presentingViewController)])&#123;</div><div class="line">[self.presentingViewController.presentingViewController dismissViewControllerAnimated:YES completion:nil];</div><div class="line">&#125;else &#123;</div><div class="line">[self.parentViewController.parentViewController dismissViewControllerAnimated:YES completion:nil];</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>ä¸¤ä¸ªæ§åˆ¶å™¨æ€ä¹ˆæ— é™push?<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">NSMutableArray *vcArr = [self.navigationController.viewControllers mutableCopy];</div><div class="line">[vcArr removeLastObject];</div><div class="line">[vcArr addObject:loginVC];</div><div class="line">[self.navigationController setViewControllers:vcArr animated:YES];</div></pre></td></tr></table></figure></p>
<p>NSDictionary æ€ä¹ˆè½¬æˆNSString<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">NSData *jsonData = [NSJSONSerialization dataWithJSONObject:response.data options:0 error:0];</div><div class="line">NSString *dataStr =  [[NSString alloc] initWithData:jsonData encoding:NSUTF8StringEncoding];</div></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[iOSæ’­æ”¾GIFåŠ¨ç”»çš„å‡ ç§æ–¹å¼]]></title>
      <url>https://tate-zwt.github.io/2016/03/02/iOS%E6%92%AD%E6%94%BEGIF%E5%8A%A8%E7%94%BB%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/</url>
      <content type="html"><![CDATA[<h4 id="1-ä½¿ç”¨UIWebViewæ’­æ”¾"><a href="#1-ä½¿ç”¨UIWebViewæ’­æ”¾" class="headerlink" title="1.ä½¿ç”¨UIWebViewæ’­æ”¾"></a>1.ä½¿ç”¨UIWebViewæ’­æ”¾</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">#pragma clang diagnostic ignored &quot;-Wnonnull&quot;</div><div class="line">NSString *path = [[NSBundle mainBundle] pathForResource:@&quot;&lt;#gifName#&gt;&quot; ofType:@&quot;gif&quot;];</div><div class="line">NSData *gifData = [NSData dataWithContentsOfFile:path];</div><div class="line">UIWebView *webView = [[UIWebView alloc] initWithFrame:CGRectMake(&lt;#x#&gt;, &lt;#y#&gt;, &lt;#w#&gt;, &lt;#h#&gt;)];</div><div class="line">webView.scalesPageToFit = YES;</div><div class="line">[webView loadData:gifData MIMEType:@&quot;image/gif&quot; textEncodingName:nil baseURL:nil];</div><div class="line">webView.backgroundColor = [UIColor clearColor];</div><div class="line">webView.opaque = NO;</div><div class="line">[self.view addSubview:webView];</div></pre></td></tr></table></figure>
<a id="more"></a>
<h4 id="2-å°†GIFå›¾ç‰‡åˆ†è§£æˆå¤šå¼ PNGå›¾ç‰‡ï¼Œä½¿ç”¨UIImageViewæ’­æ”¾ã€‚"><a href="#2-å°†GIFå›¾ç‰‡åˆ†è§£æˆå¤šå¼ PNGå›¾ç‰‡ï¼Œä½¿ç”¨UIImageViewæ’­æ”¾ã€‚" class="headerlink" title="2.å°†GIFå›¾ç‰‡åˆ†è§£æˆå¤šå¼ PNGå›¾ç‰‡ï¼Œä½¿ç”¨UIImageViewæ’­æ”¾ã€‚"></a>2.å°†GIFå›¾ç‰‡åˆ†è§£æˆå¤šå¼ PNGå›¾ç‰‡ï¼Œä½¿ç”¨UIImageViewæ’­æ”¾ã€‚</h4><p>éœ€è¦å¯¼å…¥<code>#import &lt;ImageIO/ImageIO.h&gt;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">NSURL *fileUrl = [[NSBundle mainBundle] URLForResource:@&quot;&lt;#gifName#&gt;&quot; withExtension:@&quot;gif&quot;]; //åŠ è½½GIFå›¾ç‰‡</div><div class="line">CGImageSourceRef gifSource = CGImageSourceCreateWithURL((CFURLRef) fileUrl, NULL);           //å°†GIFå›¾ç‰‡è½¬æ¢æˆå¯¹åº”çš„å›¾ç‰‡æº</div><div class="line">size_t frameCout = CGImageSourceGetCount(gifSource);                                         //è·å–å…¶ä¸­å›¾ç‰‡æºä¸ªæ•°ï¼Œå³ç”±å¤šå°‘å¸§å›¾ç‰‡ç»„æˆ</div><div class="line">NSMutableArray *frames = [[NSMutableArray alloc] init];                                      //å®šä¹‰æ•°ç»„å­˜å‚¨æ‹†åˆ†å‡ºæ¥çš„å›¾ç‰‡</div><div class="line">for (size_t i = 0; i &lt; frameCout; i++) &#123;</div><div class="line">CGImageRef imageRef = CGImageSourceCreateImageAtIndex(gifSource, i, NULL); //ä»GIFå›¾ç‰‡ä¸­å–å‡ºæºå›¾ç‰‡</div><div class="line">UIImage *imageName = [UIImage imageWithCGImage:imageRef];                  //å°†å›¾ç‰‡æºè½¬æ¢æˆUIimageViewèƒ½ä½¿ç”¨çš„å›¾ç‰‡æº</div><div class="line">[frames addObject:imageName];                                              //å°†å›¾ç‰‡åŠ å…¥æ•°ç»„ä¸­</div><div class="line">CGImageRelease(imageRef);</div><div class="line">&#125;</div><div class="line">UIImageView *gifImageView = [[UIImageView alloc] initWithFrame:CGRectMake(&lt;#x#&gt;, &lt;#y#&gt;, &lt;#w#&gt;, &lt;#h#&gt;)];</div><div class="line">gifImageView.animationImages = frames; //å°†å›¾ç‰‡æ•°ç»„åŠ å…¥UIImageViewåŠ¨ç”»æ•°ç»„ä¸­</div><div class="line">gifImageView.animationDuration = 0.15; //æ¯æ¬¡åŠ¨ç”»æ—¶é•¿</div><div class="line">[gifImageView startAnimating];         //å¼€å¯åŠ¨ç”»ï¼Œæ­¤å¤„æ²¡æœ‰è°ƒç”¨æ’­æ”¾æ¬¡æ•°æ¥å£ï¼ŒUIImageViewé»˜è®¤æ’­æ”¾æ¬¡æ•°ä¸ºæ— é™æ¬¡ï¼Œæ•…è¿™é‡Œä¸åšå¤„ç†</div><div class="line">[self.view addSubview:gifImageView];</div></pre></td></tr></table></figure>
<h5 id="è‡³äºå“ªç§æ–¹å¼æ€§èƒ½å¥½å‘¢ï¼Ÿ"><a href="#è‡³äºå“ªç§æ–¹å¼æ€§èƒ½å¥½å‘¢ï¼Ÿ" class="headerlink" title="è‡³äºå“ªç§æ–¹å¼æ€§èƒ½å¥½å‘¢ï¼Ÿ"></a>è‡³äºå“ªç§æ–¹å¼æ€§èƒ½å¥½å‘¢ï¼Ÿ</h5><blockquote>
<p>ä½¿ç”¨UIWebViewæ€§èƒ½ä¼šå¥½ç‚¹ï¼ŒUIImageViewæ’­æ”¾æ˜¯é€šè¿‡å®šæ—¶å™¨æ¥æ§åˆ¶å›¾ç‰‡æ¨¡æ‹ŸåŠ¨ç”»çš„ï¼Œå®ƒä»¬æ§åˆ¶çš„æ¡¢é€Ÿæ˜¯å›ºå®šçš„ã€‚å¦‚æœè®¾ç½®çš„æ¨¡æ‹Ÿæ¡¢é€Ÿè·Ÿgifæœ¬èº«çš„æ¡¢é€Ÿç›¸è¿‘çš„è¯å€’æ²¡ä»€ä¹ˆï¼Œå¦‚æœæ¡¢é€Ÿç›¸å·®è¿‡å¤§å°±å¾ˆè€—æ€§èƒ½ã€‚</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[iOSä¸€è¡Œä»£ç é›†æˆä¸Šä¸‹æ‹‰é€»è¾‘]]></title>
      <url>https://tate-zwt.github.io/2016/02/11/iOS%E4%B8%80%E8%A1%8C%E4%BB%A3%E7%A0%81%E9%9B%86%E6%88%90%E4%B8%8A%E4%B8%8B%E6%8B%89%E9%80%BB%E8%BE%91/</url>
      <content type="html"><![CDATA[<p>é€šå¸¸æˆ‘ä»¬ä¸ºäº†æ–¹ä¾¿é›†æˆä¸Šæ‹‰ä¸‹æ‹‰éƒ½ä¼šä½¿ç”¨ä¸€äº›ç¬¬ä¸‰æ–¹çš„æ¡†æ¶ï¼Œä½†æ˜¯å®ƒä»¬å¤§å¤šåªæ˜¯æä¾›äº†ä¸€äº›å›è°ƒï¼Œåˆå­¦è€…è¿˜æ˜¯è¦å†™ä¸¤ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ç¬¬ä¸€æ¬¡åŠ è½½ä¸æ›´å¤šåŠ è½½ï¼Œåœ¨æ­¤ï¼Œæˆ‘åˆ†äº«ä¸‹æˆ‘å¹³æ—¶é¡¹ç›®é‡Œæ€ä¹ˆå»å¤„ç†çš„ã€‚</p>
<h4 id="WTNetworkingRefreshManager"><a href="#WTNetworkingRefreshManager" class="headerlink" title="WTNetworkingRefreshManager"></a>WTNetworkingRefreshManager</h4><p>è¿™ä¸ªæ˜¯æˆ‘è‡ªå·±å°è£…çš„å·¥å…·ç±»ï¼Œé€‚ç”¨äºUITableviewã€UICollectionView.<br><a id="more"></a></p>
<h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><blockquote>
<p>ä½¿ç”¨åˆ°çš„ç¬¬ä¸‰æ–¹æ¡†æ¶<br><a href="https://github.com/AFNetworking/AFNetworking" target="_blank" rel="external">AFNetworking</a>  ç½‘ç»œå¤„ç†æ¡†æ¶<br><a href="https://github.com/jdg/MBProgressHUD" target="_blank" rel="external">MBProgressHUD</a>  hudæç¤ºæ¡†æ¡†æ¶<br><a href="https://github.com/CoderMJLee/MJExtension" target="_blank" rel="external">MJExtension</a>   å­—å…¸è½¬æ¨¡å‹æ¡†æ¶<br><a href="https://github.com/CoderMJLee/MJRefresh" target="_blank" rel="external">MJRefresh</a> ç”¨æ³•ç®€å•çš„ä¸‹æ‹‰åˆ·æ–°æ¡†æ¶</p>
</blockquote>
<h4 id="æ ¸å¿ƒæ–‡ä»¶"><a href="#æ ¸å¿ƒæ–‡ä»¶" class="headerlink" title="æ ¸å¿ƒæ–‡ä»¶"></a>æ ¸å¿ƒæ–‡ä»¶</h4><p><img src="/images/main.jpeg" alt="main"><br><code>UIViewController+WT</code>  ä¸»è¦æ˜¯å¯¹HUDçš„å°è£…ï¼Œä¸€ä¸ª<code>category</code>ï¼Œ<code>WTNetworking</code>ä¸»è¦å¯¹<code>AFNetworking</code>è¿›è¡Œè¿›ä¸€æ­¥å°è£…ï¼Œ <code>WTNetworkingRefreshManager</code> æä¾›äº†ä¸€äº›å¤„ç†ä¸Šä¸‹æ‹‰é€»è¾‘çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ ¹æ®è‡ªèº«é¡¹ç›®çš„éœ€æ±‚æ”¹åŠ¨é‡Œé¢çš„ä»£ç </p>
<h4 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h4><p>æ‹–åŠ¨<code>WTNetworkingRefreshManager</code>æ–‡ä»¶å¤¹åˆ°ä½ çš„é¡¹ç›®é‡Œ<br>ç¡®ä¿é¡¹ç›®é‡Œå·²ç»é›†æˆå¿…å¤‡çš„æ¡†æ¶<br>åœ¨éœ€è¦ç”¨åˆ°çš„åœ°æ–¹å¯¼å…¥<code>import &quot;WTNetworkingRefreshManager.h&quot;</code></p>
<p>åœ¨ <code>WTNetworkingRefreshManager.h</code> æ ¹æ®è‡ªèº«è®¾ç½®</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">#define BeginPage (0)     //é¡µæ•°å›ºå®šä»1å¼€å§‹  ï¼ˆä¸å½“å‰åå°è®¾ç½®çš„èµ·å§‹é¡µæ•°ä¸ºå‡†ï¼‰</div><div class="line">#define PageParam @&quot;page&quot; //æœ‰é¡µçš„æ¦‚å¿µæ—¶ è¯·æ±‚åå°é¡µçš„å­—æ®µå›ºå®š</div><div class="line">#define RowsParam @&quot;rows&quot; //æœ‰é¡µçš„æ¦‚å¿µæ—¶ è¯·æ±‚åå°æ¯é¡µçš„å­—æ®µå›ºå®š</div><div class="line">#define RowsNum (10)      //æœ‰é¡µçš„æ¦‚å¿µæ—¶ æ¯é¡µå¤šå°‘æ¡</div><div class="line">#define DataKey @&quot;dataList&quot; // è¿”å›æ•°æ®çš„å¯¹åº”Key,ç”¨æ¥å–å€¼</div></pre></td></tr></table></figure>
<p>ä½¿ç”¨å®ƒæä¾›çš„ç±»æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line">*  ç±»æ–¹æ³• -&gt; perfect ğŸ˜€</div><div class="line">*  @param api       æ¥å£</div><div class="line">*  @param params    å‚æ•°</div><div class="line">*  @param isPages   æ˜¯å¦æœ‰é¡µæ•°</div><div class="line">*  @param view      UITableviewã€UICollectionView</div><div class="line">*  @param dataSoure æ•°æ®æº</div><div class="line">*  @param superVc   æ‰€æŒæœ‰æ§åˆ¶å™¨</div><div class="line">*  @param manager   AFN</div><div class="line">*  @param modclass  æ¨¡å‹</div><div class="line">*  @param success   æˆåŠŸå›è°ƒ</div><div class="line">*  @param fail      å¤±è´¥å›è°ƒ</div><div class="line">*/</div><div class="line">+ (void)api:(NSString *)api params:(NSDictionary *)params pages:(BOOL)isPages tv:(UIView *)view dataSoure:(NSMutableArray *)dataSoure vc:(UIViewController *)superVc af:(AFHTTPRequestOperationManager *)manager modClass:(Class)modclass suc:(NetSuccessBlock)success fail:(NetFailureBlock)fail;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line">*  å¤„ç†ç”¨åˆ°çš„æ¨¡å‹(å¯ä»¥è‡ªå·±å®šä¹‰)</div><div class="line">*/</div><div class="line">- (void)customHandleMod &#123;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å…·ä½“å¯ä»¥å‚è€ƒæºä»£ç </p>
<h3 id="æºç "><a href="#æºç " class="headerlink" title="æºç "></a>æºç </h3><p>ç‚¹å‡»è¿™ä¸‹è½½<a href="https://github.com/Tate-zwt/WTNetworkingRefreshManager" target="_blank" rel="external">æºä»£ç </a>ï¼Œæ¬¢è¿ç‚¹star</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[iOS é›†æˆæå…‰æ¨é€ï¼Œç»•è¿‡ä¸€äº›å‘]]></title>
      <url>https://tate-zwt.github.io/2016/02/02/iOS%20%E9%9B%86%E6%88%90%E6%9E%81%E5%85%89%E6%8E%A8%E9%80%81%EF%BC%8C%E7%BB%95%E8%BF%87%E4%B8%80%E4%BA%9B%E5%9D%91/</url>
      <content type="html"><![CDATA[<h4 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h4><p>æœ€è¿‘å…¬å¸è¦æ±‚æŠŠç»´æŠ¤æœŸçš„é¡¹ç›®éƒ½é›†æˆæå…‰æ¨é€ï¼Œé›†æˆæœŸé—´é‡åˆ°ä¸€äº›å°å‘ï¼Œç‰¹æ­¤åœ¨è¿™æ€»ç»“ï¼</p>
<h4 id="æå…‰æ¨é€èƒ½å¹²å˜›ï¼Ÿ"><a href="#æå…‰æ¨é€èƒ½å¹²å˜›ï¼Ÿ" class="headerlink" title="æå…‰æ¨é€èƒ½å¹²å˜›ï¼Ÿ"></a>æå…‰æ¨é€èƒ½å¹²å˜›ï¼Ÿ</h4><blockquote>
<p>1.ä¸º JPush Server ä¸ŠæŠ¥ Device Tokenï¼Œå…é™¤å¼€å‘è€…ç®¡ç† Device Token çš„éº»çƒ¦<br>2.æ”¯æŒiOS APNsæ¨é€<br>3.å‰å°è¿è¡Œæ—¶ï¼Œå¯æ¥æ”¶ç”±JPushä¸‹å‘çš„ï¼ˆé€ä¼ çš„ï¼‰è‡ªå®šä¹‰æ¶ˆæ¯<br>4.çµæ´»ç®¡ç†æ¥æ”¶ç”¨æˆ·ï¼šTagï¼ˆæ ‡ç­¾åˆ†ç»„ï¼‰ã€Aliasï¼ˆç”¨æˆ·åˆ«åï¼‰ã€RegistrationIDï¼ˆè®¾å¤‡æ³¨å†ŒIDï¼‰<br><a id="more"></a><br>çŸ¥é“èƒ½å¹²å˜›äº†é‚£å°±å¼€å§‹åŠ¨æ‰‹é›†æˆğŸ‘Œ</p>
</blockquote>
<h4 id="é…pushè¯ä¹¦ï¼š"><a href="#é…pushè¯ä¹¦ï¼š" class="headerlink" title="é…pushè¯ä¹¦ï¼š"></a>é…pushè¯ä¹¦ï¼š</h4><p>æ­¤æ­¥éª¤ç›´æ¥çœ‹æå…‰çš„ <a href="http://docs.jpush.io/client/ios_tutorials/#ios_1" target="_blank" rel="external">æ–‡æ¡£</a>å³å¯,å†™å¾—å¾ˆè¯¦ç»†ğŸ˜„</p>
<h4 id="å¯¼å…¥å¿…è¦çš„æ¡†æ¶"><a href="#å¯¼å…¥å¿…è¦çš„æ¡†æ¶" class="headerlink" title="å¯¼å…¥å¿…è¦çš„æ¡†æ¶"></a>å¯¼å…¥å¿…è¦çš„æ¡†æ¶</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">CFNetwork.framework</div><div class="line">CoreFoundation.framework</div><div class="line">CoreTelephony.framework</div><div class="line">SystemConfiguration.framework</div><div class="line">CoreGraphics.framework</div><div class="line">Foundation.framework</div><div class="line">UIKit.framework</div><div class="line">Security.framework</div><div class="line">Xcode7éœ€è¦çš„æ˜¯libz.tbdï¼›Xcode7ä»¥ä¸‹ç‰ˆæœ¬æ˜¯libz.dylib</div></pre></td></tr></table></figure>
<h4 id="åˆ›å»ºå¹¶é…ç½®PushConfig-plistæ–‡ä»¶"><a href="#åˆ›å»ºå¹¶é…ç½®PushConfig-plistæ–‡ä»¶" class="headerlink" title="åˆ›å»ºå¹¶é…ç½®PushConfig.plistæ–‡ä»¶"></a>åˆ›å»ºå¹¶é…ç½®PushConfig.plistæ–‡ä»¶</h4><blockquote>
<p>åœ¨ä½ çš„å·¥ç¨‹ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„Property Listæ–‡ä»¶ï¼Œå¹¶å°†å…¶å‘½åä¸ºPushConfig.plistï¼Œæ–‡ä»¶æ‰€å«å­—æ®µå¦‚ä¸‹ï¼š<br>CHANNEL<br>æŒ‡æ˜åº”ç”¨ç¨‹åºåŒ…çš„ä¸‹è½½æ¸ é“ï¼Œä¸ºæ–¹ä¾¿åˆ†æ¸ é“ç»Ÿè®¡ï¼Œå…·ä½“å€¼ç”±ä½ è‡ªè¡Œå®šä¹‰ï¼Œå¦‚ï¼šApp Storeã€‚<br>APP_KEY<br>å¡«å†™ç®¡ç†Portalä¸Šåˆ›å»ºåº”ç”¨åè‡ªåŠ¨ç”Ÿæˆçš„AppKeyå€¼ã€‚è¯·ç¡®ä¿åº”ç”¨å†…é…ç½®çš„ AppKey ä¸ç¬¬1æ­¥åœ¨ Portal ä¸Šåˆ›å»ºåº”ç”¨åç”Ÿæˆçš„ AppKey ä¸€è‡´ã€‚<br>APS_FOR_PRODUCTION<br>1.3.1ç‰ˆæœ¬æ–°å¢ï¼Œç”¨äºæ ‡è¯†å½“å‰åº”ç”¨æ‰€ä½¿ç”¨çš„APNsè¯ä¹¦ç¯å¢ƒã€‚<br>0 (é»˜è®¤å€¼)è¡¨ç¤ºé‡‡ç”¨çš„æ˜¯å¼€å‘è¯ä¹¦ï¼Œ1 è¡¨ç¤ºé‡‡ç”¨ç”Ÿäº§è¯ä¹¦å‘å¸ƒåº”ç”¨ã€‚<br>æ³¨ï¼šæ­¤å­—æ®µçš„å€¼è¦ä¸Build Settingsçš„Code Signingé…ç½®çš„è¯ä¹¦ç¯å¢ƒä¸€è‡´ã€‚<br>åœ¨1.2.2æˆ–ä¹‹å‰ç‰ˆæœ¬çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œæœ‰ TEST_MODE è¿™ä¸ªé”®ï¼Œæ–°ç‰ˆçš„SDKä¸å†ä½¿ç”¨ï¼Œå¯ä»¥å°†å®ƒåˆ é™¤ã€‚</p>
</blockquote>
<p><img src="/images/PushConfig.jpeg" alt="PushConfig"></p>
<h4 id="æ ¸å¿ƒä»£ç "><a href="#æ ¸å¿ƒä»£ç " class="headerlink" title="æ ¸å¿ƒä»£ç "></a>æ ¸å¿ƒä»£ç </h4><p>é¦–å…ˆåœ¨<br>AppDelegate.m<br>å¯¼å…¥</p>
<p>#import â€œJPUSHService.hâ€<br>åœ¨å¯¹åº”çš„æ–¹æ³•<br>didFinishLaunchingWithOptions<br>é‡Œè´´ä¸Šæ ¸å¿ƒä»£ç ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">//æå…‰æ¨é€</div><div class="line">if ([[UIDevice currentDevice].systemVersion floatValue] &gt;= 8.0) &#123;</div><div class="line">//å¯ä»¥æ·»åŠ è‡ªå®šä¹‰categories</div><div class="line">[JPUSHService registerForRemoteNotificationTypes:(UIUserNotificationTypeBadge |</div><div class="line">UIUserNotificationTypeSound |</div><div class="line">UIUserNotificationTypeAlert)</div><div class="line">categories:nil];</div><div class="line">&#125; else &#123;</div><div class="line">//categories å¿…é¡»ä¸ºnil</div><div class="line">[JPUSHService registerForRemoteNotificationTypes:(UIRemoteNotificationTypeBadge |</div><div class="line">UIRemoteNotificationTypeSound |</div><div class="line">UIRemoteNotificationTypeAlert)</div><div class="line">categories:nil];</div><div class="line">&#125;</div><div class="line">//JAppKey : æ˜¯ä½ åœ¨æå…‰æ¨é€ç”³è¯·ä¸‹æ¥çš„appKey Jchannel : å¯ä»¥ç›´æ¥è®¾ç½®é»˜è®¤å€¼å³å¯ Publish channel</div><div class="line">[JPUSHService setupWithOption:launchOptions appKey:JAppKey</div><div class="line">channel:Jchannel apsForProduction:NO]; //å¦‚æœæ˜¯ç”Ÿäº§ç¯å¢ƒåº”è¯¥è®¾ç½®ä¸ºYES</div></pre></td></tr></table></figure></p>
<p>ä¹‹åè¿˜éœ€è¦åŠ å…¥ä»¥ä¸‹æ–¹æ³•ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">- (void)application:(UIApplication *)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken &#123;</div><div class="line">// Required</div><div class="line">[JPUSHService registerDeviceToken:deviceToken];</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">-(void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo&#123;</div><div class="line"></div><div class="line">NSString *alert = [[userInfo objectForKey:@&quot;aps&quot;] objectForKey:@&quot;alert&quot;];</div><div class="line"></div><div class="line">if (application.applicationState == UIApplicationStateActive) &#123;</div><div class="line"></div><div class="line">UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:@&quot;æ¨é€æ¶ˆæ¯&quot;</div><div class="line">message:alert</div><div class="line">delegate:self</div><div class="line">cancelButtonTitle:@&quot;OK&quot;</div><div class="line">otherButtonTitles:nil];</div><div class="line">[alertView show];</div><div class="line">&#125;</div><div class="line">[application setApplicationIconBadgeNumber:0];</div><div class="line"></div><div class="line">[JPUSHService handleRemoteNotification:userInfo];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬è¿˜èƒ½ç›‘å¬æå…‰æ¨é€ç”Ÿå‘½å‘¨æœŸé€šçŸ¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">APIé‡Œé¢æä¾›äº†ä¸‹é¢ 5 ç§ç±»å‹çš„é€šçŸ¥ï¼š</div><div class="line"></div><div class="line">extern NSString * const kJPFNetworkDidSetupNotification; // å»ºç«‹è¿æ¥</div><div class="line"></div><div class="line">extern NSString * const kJPFNetworkDidCloseNotification; // å…³é—­è¿æ¥</div><div class="line"></div><div class="line">extern NSString * const kJPFNetworkDidRegisterNotification; // æ³¨å†ŒæˆåŠŸ</div><div class="line"></div><div class="line">extern NSString * const kJPFNetworkDidLoginNotification; // ç™»å½•æˆåŠŸ</div><div class="line"></div><div class="line">æ¸©é¦¨æç¤ºï¼š </div><div class="line">Registration id éœ€è¦åœ¨æ‰§è¡Œåˆ°kJPFNetworkDidLoginNotificationçš„æ–¹æ³•é‡Œè·å–</div><div class="line"></div><div class="line">extern NSString * const kJPFNetworkDidReceiveMessageNotification; // æ”¶åˆ°è‡ªå®šä¹‰æ¶ˆæ¯(éAPNS)</div><div class="line"></div><div class="line">å…¶ä¸­ï¼ŒkJPFNetworkDidReceiveMessageNotificationä¼ é€’çš„æ•°æ®å¯ä»¥é€šè¿‡NSNotificationä¸­çš„userInfoæ–¹æ³•è·å–ï¼ŒåŒ…æ‹¬æ ‡é¢˜ã€å†…å®¹ã€extrasä¿¡æ¯ç­‰</div></pre></td></tr></table></figure>
<h4 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h4><h6 id="Tagï¼ˆæ ‡ç­¾åˆ†ç»„ï¼‰-amp-Aliasï¼ˆç”¨æˆ·åˆ«åï¼‰"><a href="#Tagï¼ˆæ ‡ç­¾åˆ†ç»„ï¼‰-amp-Aliasï¼ˆç”¨æˆ·åˆ«åï¼‰" class="headerlink" title="Tagï¼ˆæ ‡ç­¾åˆ†ç»„ï¼‰&amp; Aliasï¼ˆç”¨æˆ·åˆ«åï¼‰"></a>Tagï¼ˆæ ‡ç­¾åˆ†ç»„ï¼‰&amp; Aliasï¼ˆç”¨æˆ·åˆ«åï¼‰</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//ç”¨äºç»‘å®šTagçš„ æ ¹æ®è‡ªå·±æƒ³è¦çš„TagåŠ å…¥ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯è¿™é‡ŒTagéœ€è¦ç”¨åˆ°NSSet</div><div class="line">[JPUSHService setTags:[NSSet set]callbackSelector:nil object:self];</div><div class="line">//ç”¨äºç»‘å®šAliasçš„  ä½¿ç”¨NSString å³å¯</div><div class="line">[JPUSHService setAlias:@&quot;&quot; callbackSelector:nil object:self];</div></pre></td></tr></table></figure>
<p>å¦‚æœæƒ³è¦å³è¦ç»‘å®šAliasä¹Ÿè¦ç»‘å®šTag,å¿…é¡»ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼Œå·²è¢«å‘<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//ç”¨äºåŒæ—¶ç»‘å®šTagä¸Aliasçš„</div><div class="line">[JPUSHService setTags:[NSSet set] alias:@&quot;&quot; callbackSelector:nil target:self];</div></pre></td></tr></table></figure></p>
<h6 id="ä¸€èˆ¬åœ¨é¡¹ç›®å“ªé‡Œç»‘å®šå‘¢ï¼Ÿ"><a href="#ä¸€èˆ¬åœ¨é¡¹ç›®å“ªé‡Œç»‘å®šå‘¢ï¼Ÿ" class="headerlink" title="ä¸€èˆ¬åœ¨é¡¹ç›®å“ªé‡Œç»‘å®šå‘¢ï¼Ÿ"></a>ä¸€èˆ¬åœ¨é¡¹ç›®å“ªé‡Œç»‘å®šå‘¢ï¼Ÿ</h6><p>æˆ‘ä¸»è¦æ˜¯åœ¨é¡¹ç›®çš„ç™»å½•æˆåŠŸæˆ–è€…è‡ªåŠ¨ç™»å½•åï¼Œä½¿ç”¨ç”¨æˆ·çš„å”¯ä¸€æ ‡ç¤ºè¿›è¡Œç»‘å®šï¼Œæˆ–è€…æ ¹æ®éœ€æ±‚æ·»åŠ ä¸€äº›å‰ç¼€</p>
<h6 id="å»é™¤ç»‘å®š"><a href="#å»é™¤ç»‘å®š" class="headerlink" title="å»é™¤ç»‘å®š"></a>å»é™¤ç»‘å®š</h6><p>ç”¨æˆ·è¿›è¡Œé€€å‡ºç™»å½•çš„æ–¹æ³•é‡Œæ·»åŠ å»é™¤ç»‘å®šå³å¯ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ç”¨åˆ°å³æ—¶é€šè®¯çš„è¯ï¼Œè¢«æŒ¤ä¸‹çº¿ä¹Ÿè¦å»é™¤ç»‘å®šï¼Œå·²è¢«å‘ï¼Œè´´ä»£ç ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//æ²¡æœ‰å€¼å°±ä»£è¡¨å»é™¤</div><div class="line">[JPUSHService setTags:[NSSet set]callbackSelector:nil object:self];</div><div class="line">[JPUSHService setAlias:@&quot;&quot; callbackSelector:nil object:self];</div><div class="line">[JPUSHService setTags:[NSSet set] alias:@&quot;&quot; callbackSelector:nil target:self];</div></pre></td></tr></table></figure></p>
<h4 id="æµ‹è¯•æ˜¯å¦é›†æˆæˆåŠŸ"><a href="#æµ‹è¯•æ˜¯å¦é›†æˆæˆåŠŸ" class="headerlink" title="æµ‹è¯•æ˜¯å¦é›†æˆæˆåŠŸ"></a>æµ‹è¯•æ˜¯å¦é›†æˆæˆåŠŸ</h4><p>åˆ°æå…‰<a href="https://www.jpush.cn/push/apps/c8d9798cc63b93bf2c1ed834/push/notification/" target="_blank" rel="external">å¹³å°</a>æµ‹è¯•æ¨é€ï¼š</p>
<p><img src="/images/æµ‹è¯•æ¨é€.jpg" alt="æµ‹è¯•æ¨é€"><br>åªè¦æ¨é€æˆåŠŸï¼Œå‰©ä¸‹çš„ç”±åå°æ ¹æ®Aliasæˆ–è€…Tagæ¥æ¨é€å°±å¯ä»¥äº†ğŸ˜„</p>
<h4 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h4><p>å…³äºæ¨é€æ¥çš„å°çº¢ç‚¹è§’æ ‡ï¼Œç®€ç§°<code>badge</code>ã€‚é»˜è®¤æ˜¯æå…‰æ¨é€è¿‡æ¥ä¸€æ¬¡è§’æ ‡<code>+1</code>ï¼Œè¿™ä¸ªå€¼<code>badge</code>æ˜¯ç”±åå°æ¨é€è¿‡æ¥çš„æ¶ˆæ¯ä¼ çš„å€¼ï¼Œä½†æ˜¯å½“ç”¨æˆ·çœ‹äº†ï¼Œè§’æ ‡ä¼šé»˜è®¤è¢«æ¸…é™¤ï¼Œå¦‚æœä½ æ²¡æœ‰å»å‘Šè¯‰åå°çš„è¯ï¼Œåå°ä¸‹æ¬¡æ¨é€è¿‡æ¥ï¼Œä½ çš„<code>badge</code>æ˜¾ç¤ºçš„å€¼è¿˜æ˜¯ä½ ä¸Šä¸€æ¬¡çš„å€¼åŠ ä¸€ï¼Œé‚£å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ<br>ç»†å¿ƒçš„å¼€å‘è€…ä¼šå»æŸ¥çœ‹æå…‰æ¨é€çš„APIæ–‡æ¡£ï¼Œä½†æ˜¯æˆ‘è§‰å¾—çœ‹æ–‡æ¡£å°±æœ‰ç‚¹éº»çƒ¦äº†ï¼Œæ‰€ä»¥æˆ‘ç›´æ¥å»çœ‹<code>JPUSHService.h</code>æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘å‘ç°æå…‰ä¸ºè¿™ä¸ªé—®é¢˜æä¾›äº†è§£å†³çš„æ–¹æ³•<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">/*!</div><div class="line">* @abstract è®¾ç½®è§’æ ‡(åˆ°æœåŠ¡å™¨)</div><div class="line">*</div><div class="line">* @param value æ–°çš„å€¼. ä¼šè¦†ç›–æœåŠ¡å™¨ä¸Šä¿å­˜çš„å€¼(è¿™ä¸ªç”¨æˆ·)</div><div class="line">*</div><div class="line">* @discussion æœ¬æ¥å£ä¸ä¼šæ”¹å˜åº”ç”¨æœ¬åœ°çš„è§’æ ‡å€¼.</div><div class="line">* æœ¬åœ°ä»é¡»è°ƒç”¨ UIApplication:setApplicationIconBadgeNumber å‡½æ•°æ¥è®¾ç½®è„šæ ‡.</div><div class="line">*</div><div class="line">* æœ¬æ¥å£ç”¨äºé…åˆ JPush æä¾›çš„æœåŠ¡å™¨ç«¯è§’æ ‡åŠŸèƒ½.</div><div class="line">* è¯¥åŠŸèƒ½è§£å†³çš„é—®é¢˜æ˜¯, æœåŠ¡å™¨ç«¯æ¨é€ APNs æ—¶, å¹¶ä¸çŸ¥é“å®¢æˆ·ç«¯åŸæ¥å·²ç»å­˜åœ¨çš„è§’æ ‡æ˜¯å¤šå°‘, æŒ‡å®šä¸€ä¸ªå›ºå®šçš„æ•°å­—ä¸å¤ªåˆç†.</div><div class="line">*</div><div class="line">* JPush æœåŠ¡å™¨ç«¯è„šæ ‡åŠŸèƒ½æä¾›:</div><div class="line">*</div><div class="line">* - é€šè¿‡æœ¬ API æŠŠå½“å‰å®¢æˆ·ç«¯(å½“å‰è¿™ä¸ªç”¨æˆ·çš„) çš„å®é™… badge è®¾ç½®åˆ°æœåŠ¡å™¨ç«¯ä¿å­˜èµ·æ¥;</div><div class="line">* - è°ƒç”¨æœåŠ¡å™¨ç«¯ API å‘ APNs æ—¶(é€šå¸¸è¿™ä¸ªè°ƒç”¨æ˜¯æ‰¹é‡é’ˆå¯¹å¤§é‡ç”¨æˆ·),</div><div class="line">*   ä½¿ç”¨ &quot;+1&quot; çš„è¯­ä¹‰, æ¥è¡¨è¾¾éœ€è¦åŸºäºç›®æ ‡ç”¨æˆ·å®é™…çš„ badge å€¼(ä¿å­˜çš„) +1 æ¥ä¸‹å‘é€šçŸ¥æ—¶å¸¦ä¸Šæ–°çš„ badge å€¼;</div><div class="line">*/</div><div class="line">+ (BOOL)setBadge:(NSInteger)value;</div></pre></td></tr></table></figure></p>
<p>è€Œä¸”æˆ‘è¿˜å‘ç°æå…‰æ¨é€ä¹Ÿèƒ½æ”¶é›†Crashæ—¥å¿—,ä¹‹å‰åªçŸ¥é“å‹ç›Ÿä¸å¬äº‘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">/*!</div><div class="line">* @abstract å¼€å¯Crashæ—¥å¿—æ”¶é›†</div><div class="line">*</div><div class="line">* @discussion é»˜è®¤æ˜¯å…³é—­çŠ¶æ€.</div><div class="line">*/</div><div class="line">+ (void)crashLogON;</div></pre></td></tr></table></figure>
<p>å¦‚ä½•æ”¹å˜æ¨é€è¿‡æ¥çš„æç¤ºéŸ³å‘¢ï¼Ÿ<br>åªéœ€è¦è®©æœåŠ¡ç«¯è®¾ç½®<code>sound</code>å­—æ®µå°±å¯ä»¥äº†ã€‚</p>
<blockquote>
<p>iOS é€šçŸ¥å£°éŸ³ (sound)<br>APNsé€šçŸ¥ï¼Œé€šè¿‡è¿™ä¸ªå­—æ®µæŒ‡å®šå£°éŸ³ã€‚é»˜è®¤ä¸ºdefaultï¼Œå³ç³»ç»Ÿé»˜è®¤å£°éŸ³ã€‚<br>å¦‚æœè®¾ç½®ä¸ºç©ºå€¼ï¼Œåˆ™ä¸ºé™éŸ³ã€‚<br>å¦‚æœè®¾ç½®ä¸ºç‰¹æ®Šçš„åç§°ï¼Œåˆ™éœ€è¦ä½ çš„Appé‡Œé…ç½®äº†è¯¥å£°éŸ³æ‰å¯ä»¥æ­£å¸¸ã€‚</p>
</blockquote>
<h4 id="JPushSDKèµ„æºä¸‹è½½"><a href="#JPushSDKèµ„æºä¸‹è½½" class="headerlink" title="JPushSDKèµ„æºä¸‹è½½"></a><a href="http://docs.jpush.io/resources/" target="_blank" rel="external">JPushSDKèµ„æºä¸‹è½½</a></h4>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[è§£å†³ iOS View Controller Push/Pop æ—¶çš„é»‘å½±]]></title>
      <url>https://tate-zwt.github.io/2015/12/05/%E8%A7%A3%E5%86%B3%20iOS%20View%20Controller%20Push:Pop%20%E6%97%B6%E7%9A%84%E9%BB%91%E5%BD%B1/</url>
      <content type="html"><![CDATA[<p>é¡¹ç›®æ”¶å°¾çš„æ—¶å€™å‘ç°åœ¨pushæ—¶å³ä¸Šè§’ä¼šæœ‰é»‘å½±ï¼Œpushå®Œæˆåå°±æ¶ˆå¤±äº†ï¼Œå¦‚å›¾ï¼š<br><img src="/images/frist.jpeg" alt=""></p>
<h3 id="é‚£ä¹ˆå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ"><a href="#é‚£ä¹ˆå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ" class="headerlink" title="é‚£ä¹ˆå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ"></a>é‚£ä¹ˆå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ</h3><a id="more"></a>
<p>ã€€ã€€ä¸Šç½‘æŸ¥è¯¢è€ŒçŸ¥ï¼ŒiOS è‡ª 7.x æŸä¸ªç‰ˆæœ¬ä»¥åå°±æœ‰è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>å®é™…ä¸Šå¾ˆç®€å•ï¼Œå¦‚æœè¿™ä¸ª<code>ViewController</code> æ˜¯åœ¨ <code>TabBarViewController</code> çš„ <code>NavigationController</code> ä¸Š  <code>Push/Pop</code> çš„ï¼Œé‚£ä¹ˆåªéœ€è¦æŠŠ <code>TabBarViewController çš„ View</code>  è®¾ç½®ä¸€ä¸‹ç™½è‰²èƒŒæ™¯å°±å¯ä»¥äº†ã€‚</p>
<p>å»ºç«‹ä¸€ä¸ª <code>UINavigationController</code> çš„çˆ¶ç±»ï¼Œåœ¨çˆ¶ç±»å†™ä¸Š <code>self.view.backgroundColor = [UIColor whiteColor];</code> è®©ä½ çš„ <code>NavigationController</code> éƒ½ç»§æ‰¿ï¼Œè¿™æ ·å°±OKäº†ã€‚</p>
<p>ã€€ã€€ä½†æ˜¯åˆ°è¿™é‡Œä¸ºæ­¢ï¼Œåªè§£å†³äº† 50%ï¼Œè¿˜æœ‰å¦å¤–ä¸€ç§æƒ…å†µæ²¡æœ‰è§£å†³ï¼Œé‚£å°±æ˜¯å¦‚æœä½  <code>present</code> äº†ä¸€ä¸ª <code>NavigationController + ViewController</code> åï¼Œåœ¨è¿™ä¸ªä¸‹é¢å†è¿›è¡Œ <code>Pop/Push</code> ä¹Ÿæ˜¯ä¼šæœ‰é»‘å½±çš„æƒ…å†µä¸‹ã€‚è¿™ç§æƒ…å†µå¦‚ä½•è§£å†³å‘¢ï¼Ÿ</p>
<p>ç±»ä¼¼çš„ï¼Œè®¾ç½®ä¸€ä¸‹ <code>self.navigationController.view.backgroundColor = [UIColor whiteColor];</code> å³å¯ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[iOS ä»£ç æ ¼å¼åŒ–æ’ä»¶Clang-Format]]></title>
      <url>https://tate-zwt.github.io/2015/11/15/iOS%20%E4%BB%A3%E7%A0%81%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%8F%92%E4%BB%B6Clang-Format/</url>
      <content type="html"><![CDATA[<p>æœ€è¿‘æˆ‘åœ¨æ¥æ‰‹åŒäº‹çš„é¡¹ç›®ï¼Œå‘ç°é¡¹ç›®ç»è¿‡å¤šäººæ‰‹åï¼Œæ¯äººä¸ªçš„ä»£ç æ ¼å¼é£æ ¼åˆæœ‰ç‚¹å·®å¼‚å¯¼è‡´ä»£ç æ˜¾ç¤ºå¾ˆä¹±ï¼ŒGoogleäº†ä¸€ç•ªï¼Œå‘ç°æœ‰ä¸€ä¸ªiOSä»£ç æ ¼å¼æ’ä»¶<a href="https://github.com/travisjeffery/ClangFormat-Xcode" target="_blank" rel="external">Clang-Format</a>ï¼Œç›¸å½“çš„ç»™åŠ›ã€‚</p>
<p>é…ç½®CLangFormat<br>è™½ç„¶CLangFormatæœ¬èº«å°±å†…ç½®äº†ä¸€äº›æ ‡å‡†åŒ–çš„ä»£ç æ ¼å¼åŒ–æ–¹æ¡ˆï¼Œä½†æ˜¯åŒæ ·å¯ä»¥è‡ªå®šä¹‰ï¼Œæˆ‘ä»¬å°±é‡‡ç”¨äº†è‡ªå®šä¹‰çš„æ–¹æ³•ã€‚</p>
<p>å…·ä½“çš„ï¼Œåœ¨å·¥ç¨‹ç›®å½•æˆ–è€…workspaceç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªâ€.clang-formatâ€æ–‡ä»¶</p>
<p>.clang-format åªæ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå¯ä»¥å¤åˆ¶åˆ°ä»»ä½•åœ°æ–¹ã€‚ä½ å¯ä»¥æŠŠå®ƒå¤åˆ¶åˆ°ä½ çš„é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œä¹Ÿå¯ä»¥æŠŠå®ƒå¤åˆ¶åˆ°ä½ æ‰€æœ‰é¡¹ç›®çš„æ ¹ç›®å½•ã€‚<br><a id="more"></a><br>æˆ‘çš„é…ç½®å‚æ•°ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"># åŸºç¡€æ ·å¼</div><div class="line"></div><div class="line">BasedOnStyle: LLVM</div><div class="line"></div><div class="line"># ç¼©è¿›å®½åº¦</div><div class="line"></div><div class="line">IndentWidth: 4</div><div class="line"></div><div class="line"># åœ†æ‹¬å·çš„æ¢è¡Œæ–¹å¼</div><div class="line"></div><div class="line">BreakBeforeBraces: Attach</div><div class="line"></div><div class="line"># æ”¯æŒä¸€è¡Œçš„if</div><div class="line"></div><div class="line">AllowShortIfStatementsOnASingleLine: true</div><div class="line"></div><div class="line"># switchçš„caseç¼©è¿›</div><div class="line"></div><div class="line">IndentCaseLabels: true</div><div class="line"></div><div class="line"># é’ˆå¯¹OCçš„blockçš„ç¼©è¿›å®½åº¦</div><div class="line"></div><div class="line">ObjCBlockIndentWidth: 4</div><div class="line"></div><div class="line"># é’ˆå¯¹OCï¼Œå±æ€§åååŠ ç©ºæ ¼</div><div class="line"></div><div class="line">ObjCSpaceAfterProperty: true</div><div class="line"></div><div class="line"># æ¯è¡Œå­—ç¬¦çš„é•¿åº¦</div><div class="line"></div><div class="line">ColumnLimit: 0</div><div class="line"></div><div class="line"># æ³¨é‡Šå¯¹é½</div><div class="line"></div><div class="line">AlignTrailingComments: true</div><div class="line"></div><div class="line"># æ‹¬å·ååŠ ç©ºæ ¼</div><div class="line"></div><div class="line">SpaceAfterCStyleCast: true</div><div class="line"></div><div class="line"># ä¸åœ¨å°æ‹¬å·é‡ŒåŠ ç©ºæ ¼</div><div class="line"></div><div class="line">SpacesInParentheses: false</div><div class="line"></div><div class="line"># ä¸åœ¨ä¸­æ‹¬å·é‡ŒåŠ ç©ºæ ¼</div><div class="line"></div><div class="line">SpacesInSquareBrackets: false</div></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Xcodeæ¸…ç†ç¼“å­˜ã€æ¸…ç†å¤šä½™provisioning profile è¯ä¹¦]]></title>
      <url>https://tate-zwt.github.io/2015/10/05/Xcode%E6%B8%85%E7%90%86%E7%BC%93%E5%AD%98%E3%80%81%E6%B8%85%E7%90%86%E5%A4%9A%E4%BD%99provisioning-profile-%E8%AF%81%E4%B9%A6/</url>
      <content type="html"><![CDATA[<p>æˆ‘ä»¬å¼€å‘ä¹…äº†ï¼ŒXcodeçš„ç¼“å­˜ä¼šè¶Šæ¥è¶Šå¤§ï¼Œä¸»è¦æ˜¯ä¼šäº§ç”Ÿå¾ˆå¤šé¡¹ç›®ç¼–è¯‘ç¼“å­˜ï¼Œå ç”¨ä¸€å¤§å †ç¡¬ç›˜ç©ºé—´ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦æ¸…ç†äº†ã€‚ç¬”è€…æœ‰æ¬¡æ¸…ç†å‡º20å¤šGçš„ç©ºé—´ï¼Œè¿™æ˜¯ç›¸å½“ç»™åŠ›çš„ï¼Œä½ ä¹Ÿå¯ä»¥è¯•è¯•å“ˆğŸ˜„ã€‚è¿˜æœ‰å¼€å‘å¤šæ¬¾APPåå¯èƒ½ä¼šäº§ç”Ÿå¤šä½™çš„è¯ä¹¦provisioning profileï¼Œè¿™ä¸ªæ—¶å€™ä¹Ÿæ˜¯è¦æ¸…ç†çš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">1ã€æ¸…ç†Xcodeç¼–è¯‘é¡¹ç›®äº§ç”Ÿçš„ç¼“å­˜åƒåœ¾</div><div class="line"></div><div class="line">æ‰‹åŠ¨åˆ é™¤ï¼š</div><div class="line"></div><div class="line">æ‰“å¼€èœå•çš„å‰å¾€-&gt;å‰å¾€æ–‡ä»¶å¤¹è¾“å…¥â€”&gt; ~/Library/Developer/Xcode/DerivedData</div><div class="line"></div><div class="line">2ã€åˆ é™¤Xcodeä¸­å¤šä½™çš„è¯ä¹¦provisioning profile</div><div class="line"></div><div class="line">æ‰‹åŠ¨åˆ é™¤ï¼š</div><div class="line"></div><div class="line">æ‰“å¼€èœå•çš„å‰å¾€-&gt;å‰å¾€æ–‡ä»¶å¤¹è¾“å…¥â€”&gt; ~/Library/MobileDevice/Provisioning Profiles</div></pre></td></tr></table></figure>
<p>è¿™æ ·å¯¹äºä½¿ç”¨128Gçš„å›ºæ€MacPro æ¸…ç†å‡ºä¸€å®šçš„ç©ºé—´æ˜¯ç›¸å½“æœ‰ç”¨çš„ï¼</p>
]]></content>
    </entry>
    
  
  
</search>
